<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>nrfcxx: nrfcxx/sensor/adc.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">nrfcxx
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">C++-17 Framework for Nordic nRF5 Devices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_427bf8e43458ad25d918268f234eae15.html">nrfcxx</a></li><li class="navelem"><a class="el" href="dir_409d8fa8d05a229c27582ec54358aa73.html">sensor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">adc.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="adc_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* SPDX-License-Identifier: Apache-2.0 */</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">/* Copyright 2017-2019 Peter A. Bigot */</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160; </div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#ifndef NRFCXX_SENSOR_ADC_HPP</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#define NRFCXX_SENSOR_ADC_HPP</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#pragma once</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160; </div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;cstring&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;initializer_list&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160; </div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="periph_8hpp.html">nrfcxx/periph.hpp</a>&gt;</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="lpm_8hpp.html">nrfcxx/lpm.hpp</a>&gt;</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160; </div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacenrfcxx.html">nrfcxx</a> {</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">namespace </span>sensor {</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160; </div><div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="namespacenrfcxx_1_1sensor_1_1adc.html">   23</a></span>&#160;<span class="keyword">namespace </span>adc {</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160; </div><div class="line"><a name="l00027"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1vdd.html">   27</a></span>&#160;<span class="keyword">class </span><a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1vdd.html">vdd</a> : <span class="keyword">public</span> <a class="code" href="classnrfcxx_1_1periph_1_1ADCClient.html">periph::ADCClient</a></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;{</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;  <span class="keyword">using</span> <a class="code" href="classnrfcxx_1_1periph_1_1ADCClient.html">super</a> = <a class="code" href="classnrfcxx_1_1periph_1_1ADCClient.html">periph::ADCClient</a>;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1vdd.html#a21486fe126be7cda07fe37e0442ed473">   44</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1vdd.html#a21486fe126be7cda07fe37e0442ed473">vdd_callback_bi</a> = std::function&lt;void(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1vdd.html#a178ec414586fb7ca9427d7facabfc5a9">vdd_mV</a>)&gt;;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div><div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1vdd.html#a279899bcbf05cb85e8e32ba5d4684f46">   52</a></span>&#160;  <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1vdd.html#a279899bcbf05cb85e8e32ba5d4684f46">vdd</a> (<a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1vdd.html#a21486fe126be7cda07fe37e0442ed473">vdd_callback_bi</a> callback = <span class="keyword">nullptr</span>) :</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="classnrfcxx_1_1periph_1_1ADCClient.html">super</a>{},</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    vdd_callback_{callback},</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    vdd_adc16_{}</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  { }</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160; </div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1vdd.html#a013bc02ec53c9f84d55c98b7721aca83">convert_adc16_mV</a> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> vdd_adc16) <span class="keyword">const</span>;</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div><div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1vdd.html#a178ec414586fb7ca9427d7facabfc5a9">   71</a></span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1vdd.html#a178ec414586fb7ca9427d7facabfc5a9">vdd_mV</a> ()<span class="keyword"> const</span></div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1vdd.html#a013bc02ec53c9f84d55c98b7721aca83">convert_adc16_mV</a>(vdd_adc16_);</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;  }</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160; </div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordtype">int</span> configure_bi_ () <span class="keyword">override</span>;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  <span class="keywordtype">void</span> complete_bi_ () <span class="keyword">override</span>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160; </div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1vdd.html#a21486fe126be7cda07fe37e0442ed473">vdd_callback_bi</a> vdd_callback_;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keyword">volatile</span> uint16_t vdd_adc16_;</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;};</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160; </div><div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html">   96</a></span>&#160;<span class="keyword">class </span><a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html">voltage_divider</a> : <span class="keyword">public</span> <a class="code" href="classnrfcxx_1_1periph_1_1ADCClient.html">nrfcxx::periph::ADCClient</a></div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;{</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keyword">using</span> <a class="code" href="classnrfcxx_1_1periph_1_1ADCClient.html">super</a> = <a class="code" href="classnrfcxx_1_1periph_1_1ADCClient.html">nrfcxx::periph::ADCClient</a>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160; </div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keyword">using</span> packed_type = uint32_t;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keyword">static</span> constexpr <span class="keyword">auto</span> AIN_WIDTH = 4U;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keyword">static</span> constexpr packed_type AIN_MASK = (1U &lt;&lt; AIN_WIDTH) - 1;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;  <span class="keyword">static</span> constexpr <span class="keyword">auto</span> MAX_INTERNAL = 2;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160; </div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keyword">enum</span> flags_enum : <a class="code" href="classnrfcxx_1_1periph_1_1ADCClient.html#a87e37dfa9bc31d058f4e062b41392559">flags_type</a> {</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    FL_RAW_EXTERNAL = (<a class="code" href="classnrfcxx_1_1periph_1_1ADCClient.html#a9d9c5c5d6c75dc3864422eb6da008fe1a821b5c185a0aadd1f828f0e326ed1635">FL_SUBCLASS_BASE</a> &lt;&lt; 0),</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160; </div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    FL_MEASURE_RESISTANCE = (<a class="code" href="classnrfcxx_1_1periph_1_1ADCClient.html#a9d9c5c5d6c75dc3864422eb6da008fe1a821b5c185a0aadd1f828f0e326ed1635">FL_SUBCLASS_BASE</a> &lt;&lt; 1),</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  };</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160; </div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Iterator&gt;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  int8_t pack_values (packed_type&amp; dest,</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                      Iterator begin,</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                      Iterator end)</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keyword">static</span> constexpr int8_t max_count = (8 * <span class="keyword">sizeof</span>(dest)) / AIN_WIDTH;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    int8_t <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a2ce5b7290cb91cd1a2cdc4b525106914">count</a> = 0;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> shift = 0;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    dest = 0;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">while</span> ((begin != end) &amp;&amp; (<a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a2ce5b7290cb91cd1a2cdc4b525106914">count</a> &lt; max_count)) {</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      dest |= (AIN_MASK &amp; *begin) &lt;&lt; shift;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      shift += AIN_WIDTH;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;      ++begin;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      ++<a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a2ce5b7290cb91cd1a2cdc4b525106914">count</a>;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    }</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">if</span> (begin != end) {</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a2ce5b7290cb91cd1a2cdc4b525106914">count</a> = -1;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a2ce5b7290cb91cd1a2cdc4b525106914">count</a>;</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  }</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160; </div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keyword">volatile</span> uint16_t* raw_adc16_ ()</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">if</span> (FL_RAW_EXTERNAL &amp; <a class="code" href="classnrfcxx_1_1periph_1_1ADCClient.html#a48bead8932cc26993e3b88b3ddcf2720">flags_</a>) {</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      <span class="keywordflow">return</span> raw_.ptr;</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">return</span> raw_.val;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  }</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keyword">volatile</span> <span class="keyword">const</span> uint16_t* raw_adc16_ ()<span class="keyword"> const</span></div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="keywordflow">if</span> (FL_RAW_EXTERNAL &amp; <a class="code" href="classnrfcxx_1_1periph_1_1ADCClient.html#a48bead8932cc26993e3b88b3ddcf2720">flags_</a>) {</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;      <span class="keywordflow">return</span> raw_.ptr;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    }</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">return</span> raw_.val;</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  }</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160; </div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <span class="keywordtype">void</span> configure_instance_ (int8_t channel_count,</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                            <span class="keyword">volatile</span> uint16_t* raw);</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160; </div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160; </div><div class="line"><a name="l00172"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#ae90d33489558aa743aff37d9108259ed">  172</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#ae90d33489558aa743aff37d9108259ed">r1_Ohm</a>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160; </div><div class="line"><a name="l00179"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a3c2cda067db1782e704bd0390909dde7">  179</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a3c2cda067db1782e704bd0390909dde7">r2_Ohm</a>;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Iterator&gt;</div><div class="line"><a name="l00197"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#aa9d54184916289bdeb9ec1b1055b97ad">  197</a></span>&#160;  <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#aa9d54184916289bdeb9ec1b1055b97ad">voltage_divider</a> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#ae90d33489558aa743aff37d9108259ed">r1_Ohm</a>,</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a3c2cda067db1782e704bd0390909dde7">r2_Ohm</a>,</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                   Iterator ains_begin,</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                   Iterator ains_end,</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                   <span class="keyword">volatile</span> uint16_t* raw = <span class="keyword">nullptr</span>) :</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#ae90d33489558aa743aff37d9108259ed">r1_Ohm</a>{<a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#ae90d33489558aa743aff37d9108259ed">r1_Ohm</a>},</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a3c2cda067db1782e704bd0390909dde7">r2_Ohm</a>{<a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a3c2cda067db1782e704bd0390909dde7">r2_Ohm</a>}</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;  {</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    configure_instance_(pack_values(channel_ains_, ains_begin, ains_end), raw);</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;  }</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div><div class="line"><a name="l00210"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#ae7774c1d0caa0490c438ea736e5cc0fa">  210</a></span>&#160;  <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#ae7774c1d0caa0490c438ea736e5cc0fa">voltage_divider</a> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#ae90d33489558aa743aff37d9108259ed">r1_Ohm</a>,</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a3c2cda067db1782e704bd0390909dde7">r2_Ohm</a>,</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                   uint8_t ain) :</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html">voltage_divider</a>{<a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#ae90d33489558aa743aff37d9108259ed">r1_Ohm</a>, <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a3c2cda067db1782e704bd0390909dde7">r2_Ohm</a>, &amp;ain, 1 + &amp;ain}</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  { }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160; </div><div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a99074ff3d23a1c57e0632d5820f91017">  217</a></span>&#160;  <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a99074ff3d23a1c57e0632d5820f91017">voltage_divider</a> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#ae90d33489558aa743aff37d9108259ed">r1_Ohm</a>,</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a3c2cda067db1782e704bd0390909dde7">r2_Ohm</a>,</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                   std::initializer_list&lt;uint8_t&gt; ains,</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                   <span class="keyword">volatile</span> uint16_t* raw = <span class="keyword">nullptr</span>) :</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html">voltage_divider</a>{<a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#ae90d33489558aa743aff37d9108259ed">r1_Ohm</a>, <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a3c2cda067db1782e704bd0390909dde7">r2_Ohm</a>, ains.begin(), ains.end(), raw}</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  { }</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160; </div><div class="line"><a name="l00225"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a2ce5b7290cb91cd1a2cdc4b525106914">  225</a></span>&#160;  <span class="keywordtype">size_t</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a2ce5b7290cb91cd1a2cdc4b525106914">count</a> ()<span class="keyword"> const</span></div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">return</span> channel_count_;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;  }</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160; </div><div class="line"><a name="l00236"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a05ab5e7f4d5c968c1b39777b04072e84">  236</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a05ab5e7f4d5c968c1b39777b04072e84">channel_ain</a> (<span class="keywordtype">size_t</span> ci)<span class="keyword"> const</span></div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keywordtype">int</span> rv = -1;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">if</span> (ci &lt; channel_count_) {</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;      rv = AIN_MASK &amp; (channel_ains_ &gt;&gt; (ci * AIN_WIDTH));</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  }</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160; </div><div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#ab5e433d087317a350d532b072fd01f17">  252</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#ab5e433d087317a350d532b072fd01f17">sample_adc16</a> (<span class="keywordtype">size_t</span> ci = 0)<span class="keyword"> const</span></div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordtype">int</span> rv = -1;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;    <span class="keywordflow">if</span> (ci &lt; channel_count_) {</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;      rv = raw_adc16_()[ci];</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    }</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="keywordflow">return</span> rv;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  }</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160; </div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#acfaf86f40e24d9fb3b7d92531c553f9b">sample_mV</a> (<span class="keywordtype">size_t</span> ci = 0,</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                 <span class="keywordtype">bool</span> truncate = <span class="keyword">false</span>) <span class="keyword">const</span>;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160; </div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a225fb56d0b9f46e60f9503c2d63d45c8">input_mV</a> (<span class="keywordtype">size_t</span> ci = 0) <span class="keyword">const</span>;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160; </div><div class="line"><a name="l00290"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#adfcfd3ac9de6e5a216e6115d9b557ee5">  290</a></span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#adfcfd3ac9de6e5a216e6115d9b557ee5">measurement_mV</a> (uint16_t m16)<span class="keyword"> const</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;<span class="preprocessor">#if (NRF51 - 0)</span></div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keywordflow">return</span> (3 * <a class="code" href="structnrfcxx_1_1nrf5_1_1series_1_1ADC__Peripheral.html#aa8d08705085899dba0e2721667b43917">peripheral::VBG_mV</a> * m16) &gt;&gt; 16;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;<span class="preprocessor">#else</span></div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">return</span> (6 * <a class="code" href="structnrfcxx_1_1nrf5_1_1series_1_1ADC__Peripheral.html#aa8d08705085899dba0e2721667b43917">peripheral::VBG_mV</a> * m16) &gt;&gt; 16;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  }</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160; </div><div class="line"><a name="l00306"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a807a298cd1b9a6f432eb9add7a51b7a4">  306</a></span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a807a298cd1b9a6f432eb9add7a51b7a4">measurement_Ohm</a> (uint16_t m16)<span class="keyword"> const</span></div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <span class="keywordflow">if</span> (0 == m16) {</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;      <span class="keywordflow">return</span> -1;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    }</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span> (0 == <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#ae90d33489558aa743aff37d9108259ed">r1_Ohm</a>) {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a3c2cda067db1782e704bd0390909dde7">r2_Ohm</a> * ((uint64_t{1} &lt;&lt; 16) - m16) / m16;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    }</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#ae90d33489558aa743aff37d9108259ed">r1_Ohm</a> * static_cast&lt;uint64_t&gt;(m16) / ((1U &lt;&lt; 16) - m16);</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  }</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160; </div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a8034e726c93de9686ca65b389b350a62">sample_Ohm</a> (<span class="keywordtype">size_t</span> ci = 0,</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                  <span class="keywordtype">bool</span> filter_high_negative = <span class="keyword">false</span>) <span class="keyword">const</span>;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160; </div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  uint32_t channel_ains_ = 0;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160; </div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  uint8_t channel_count_ = 0;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;  uint8_t channel_idx_ = 0;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160; </div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;  uint32_t config_ = 0;</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160; </div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;  <span class="keyword">union </span>{</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;    <span class="keyword">volatile</span> uint16_t* ptr;</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    uint16_t <span class="keyword">volatile</span> val[MAX_INTERNAL];</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;  } raw_ = {<span class="keyword">nullptr</span>};</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160; </div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;  <span class="keywordtype">int</span> configure_bi_ () <span class="keyword">override</span>;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;  <span class="keywordtype">int</span> nrf51_next_bi_ (<span class="keywordtype">size_t</span> ci) <span class="keyword">override</span>;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;};</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160; </div><div class="line"><a name="l00380"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html">  380</a></span>&#160;<span class="keyword">class </span><a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html">SteinhartHart</a></div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;{</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00404"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#a04d002d76a22934a7c1f0798a16e622a">  404</a></span>&#160;  constexpr <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#a04d002d76a22934a7c1f0798a16e622a">SteinhartHart</a> (<span class="keywordtype">float</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#a07ab429876ec629bf389b8457ab4d745">a</a> = 1.19438315714902408e-03,</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;                           <span class="keywordtype">float</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#a1cc0e733b13d9368b0913655b43698d6">b</a> = 2.19852114398042317e-04,</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;                           <span class="keywordtype">float</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#af0e148e8e1e014d3c1129f258883451d">c</a> = 1.72427510143621963e-07,</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;                           uint16_t <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#ab3180e2209863cbe272442f04d79b36d">open_adc16</a> = 2281,</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                           uint16_t <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#ab9bce11b9473842921cd154cb060e0d5">short_adc16</a> = 65133) :</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#a07ab429876ec629bf389b8457ab4d745">a</a>{<a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#a07ab429876ec629bf389b8457ab4d745">a</a>},</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#a1cc0e733b13d9368b0913655b43698d6">b</a>{<a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#a1cc0e733b13d9368b0913655b43698d6">b</a>},</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#af0e148e8e1e014d3c1129f258883451d">c</a>{<a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#af0e148e8e1e014d3c1129f258883451d">c</a>},</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#ab3180e2209863cbe272442f04d79b36d">open_adc16</a>{<a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#ab3180e2209863cbe272442f04d79b36d">open_adc16</a>},</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;    <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#ab9bce11b9473842921cd154cb060e0d5">short_adc16</a>{<a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#ab9bce11b9473842921cd154cb060e0d5">short_adc16</a>}</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;  { }</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160; </div><div class="line"><a name="l00417"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#a07ab429876ec629bf389b8457ab4d745">  417</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#a07ab429876ec629bf389b8457ab4d745">a</a>;</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160; </div><div class="line"><a name="l00420"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#a1cc0e733b13d9368b0913655b43698d6">  420</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#a1cc0e733b13d9368b0913655b43698d6">b</a>;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160; </div><div class="line"><a name="l00423"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#af0e148e8e1e014d3c1129f258883451d">  423</a></span>&#160;  <span class="keyword">const</span> <span class="keywordtype">float</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#af0e148e8e1e014d3c1129f258883451d">c</a>;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div><div class="line"><a name="l00432"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#ab3180e2209863cbe272442f04d79b36d">  432</a></span>&#160;  <span class="keyword">const</span> uint16_t <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#ab3180e2209863cbe272442f04d79b36d">open_adc16</a>;</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160; </div><div class="line"><a name="l00441"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#ab9bce11b9473842921cd154cb060e0d5">  441</a></span>&#160;  <span class="keyword">const</span> uint16_t <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#ab9bce11b9473842921cd154cb060e0d5">short_adc16</a>;</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160; </div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#a10439b292ab7658e2f923d3cb109b382">temperature_cK</a> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> therm_Ohm) <span class="keyword">const</span>;</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;};</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160; </div><div class="line"><a name="l00456"></a><span class="lineno"><a class="line" href="namespacenrfcxx_1_1sensor_1_1adc_1_1steinhartHart.html">  456</a></span>&#160;<span class="keyword">namespace </span>steinhartHart {</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html">SteinhartHart</a> <a class="code" href="namespacenrfcxx_1_1sensor_1_1adc_1_1steinhartHart.html#ae968b4884dd071731c886461efc96e01">adafruit372fullScale</a>;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160; </div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html">SteinhartHart</a> <a class="code" href="namespacenrfcxx_1_1sensor_1_1adc_1_1steinhartHart.html#a02c5435550ab4a6c74de7dd5badc558b">adafruit372hvac</a>;</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160; </div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;<span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html">SteinhartHart</a> <a class="code" href="namespacenrfcxx_1_1sensor_1_1adc_1_1steinhartHart.html#acc6235e4ac0050f892313b38eed6ab00">adafruit372refrigerator</a>;</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;} <span class="comment">// ns steinhartHart</span></div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160; </div><div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html">  496</a></span>&#160;<span class="keyword">class </span><a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html">ntcThermistor</a> : <span class="keyword">public</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html">voltage_divider</a></div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;{</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <span class="keyword">using</span> <a class="code" href="classnrfcxx_1_1periph_1_1ADCClient.html">super</a> = <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#aa9d54184916289bdeb9ec1b1055b97ad">voltage_divider</a>;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160; </div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00502"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#aeabde005f3779af36438cd058879e765">  502</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#aeabde005f3779af36438cd058879e765">ABSOLUTE_ZERO_cCel</a> = -27315;</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160; </div><div class="line"><a name="l00516"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#a0f4a5b5ab69fd1ae8707d00a04aee486">  516</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#a0f4a5b5ab69fd1ae8707d00a04aee486">INVALID_cCel</a> = 30000;</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160; </div><div class="line"><a name="l00528"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#a15a5bdb5f1908016e61bcf001d9a0694">  528</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#a15a5bdb5f1908016e61bcf001d9a0694">SHORT_cCel</a> = <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#a0f4a5b5ab69fd1ae8707d00a04aee486">INVALID_cCel</a> + 1;</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160; </div><div class="line"><a name="l00540"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#a68bebf50196beb4d828d351e6d0b6986">  540</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#a68bebf50196beb4d828d351e6d0b6986">OPEN_cCel</a> = - <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#a15a5bdb5f1908016e61bcf001d9a0694">SHORT_cCel</a>;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160; </div><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Iterator&gt;</div><div class="line"><a name="l00556"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#aaf8af117b5006d383923d8f47717ade0">  556</a></span>&#160;  <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#aaf8af117b5006d383923d8f47717ade0">ntcThermistor</a>(Iterator ains_begin,</div><div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                Iterator ains_end,</div><div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                <span class="keyword">volatile</span> uint16_t*raw = <span class="keyword">nullptr</span>,</div><div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                <span class="keyword">const</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html">SteinhartHart</a>* coeff = &amp;<a class="code" href="namespacenrfcxx_1_1sensor_1_1adc_1_1steinhartHart.html#ae968b4884dd071731c886461efc96e01">steinhartHart::adafruit372fullScale</a>,</div><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ref_Ohm = 10000) :</div><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <a class="code" href="classnrfcxx_1_1periph_1_1ADCClient.html">super</a>{0, ref_Ohm, ains_begin, ains_end, raw},</div><div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#ad9fea62a59ff9610aba97c19f3fe6ca8">steinhartHart</a>{coeff}</div><div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;  { }</div><div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160; </div><div class="line"><a name="l00566"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#af9adc2f535ed2e5a143411b65343f475">  566</a></span>&#160;  <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#af9adc2f535ed2e5a143411b65343f475">ntcThermistor</a>(std::initializer_list&lt;uint8_t&gt; ains,</div><div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                <span class="keyword">volatile</span> uint16_t*raw = <span class="keyword">nullptr</span>,</div><div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                <span class="keyword">const</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html">SteinhartHart</a>* coeff = &amp;<a class="code" href="namespacenrfcxx_1_1sensor_1_1adc_1_1steinhartHart.html#ae968b4884dd071731c886461efc96e01">steinhartHart::adafruit372fullScale</a>,</div><div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ref_Ohm = 10000) :</div><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html">ntcThermistor</a>(ains.begin(), ains.end(), raw, coeff, ref_Ohm)</div><div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  { }</div><div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160; </div><div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#ae02012c9fbdce7e0b82715f411af72ba">convert_adc16_cCel</a> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#a0841cdf0e4dab7671adf0e57117b3ff4">therm_adc16</a>);</div><div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160; </div><div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#a67bae84d62cd7a2655f97cf3c61bce9e">temperature_cCel</a> (<span class="keywordtype">size_t</span> ci = 0);</div><div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160; </div><div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#a0841cdf0e4dab7671adf0e57117b3ff4">therm_adc16</a> (<span class="keywordtype">size_t</span> ci = 0) <span class="keyword">const</span>;</div><div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160; </div><div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#a3c5376501427c472243398d1b0d4e760">therm_Ohm</a> (<span class="keywordtype">size_t</span> ci = 0) <span class="keyword">const</span>;</div><div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160; </div><div class="line"><a name="l00600"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#ad9fea62a59ff9610aba97c19f3fe6ca8">  600</a></span>&#160;  <span class="keyword">const</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html">SteinhartHart</a>* <span class="keyword">const</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#ad9fea62a59ff9610aba97c19f3fe6ca8">steinhartHart</a>;</div><div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;};</div><div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160; </div><div class="line"><a name="l00626"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper.html">  626</a></span>&#160;<span class="keyword">class </span><a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper.html">lpsm_wrapper</a> : <span class="keyword">public</span> <a class="code" href="classnrfcxx_1_1lpm_1_1lpsm__capable.html">lpm::lpsm_capable</a></div><div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;{</div><div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;  <span class="keyword">using</span> <a class="code" href="classnrfcxx_1_1lpm_1_1lpsm__capable.html">super_lpsm</a> = <a class="code" href="classnrfcxx_1_1lpm_1_1lpsm__capable.html">lpm::lpsm_capable</a>;</div><div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160; </div><div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="comment">/* State transitions:</span></div><div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;<span class="comment">   * * ENTRY_START transitions to IDLE.</span></div><div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<span class="comment">   * * ENTRY_CALIBRATE claims the ADC, invokes sample_setup_(), and</span></div><div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;<span class="comment">   *   transitions to CALIBRATE (after a setup delay if necessary).</span></div><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;<span class="comment">   * * CALIBRATE queues an ADC calibration and falls into</span></div><div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;<span class="comment">   *   EXIT_CALIBRATE.</span></div><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;<span class="comment">   * * EXIT_CALIBRATE loops until calibration resolved, then records</span></div><div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<span class="comment">   *   state of calibration and transitions to either IDLE (invoking</span></div><div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="comment">   *   sample_teardown_() and releasing the ADC) or ENTRY_SAMPLE</span></div><div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;<span class="comment">   *   depending on the source of the calibration request.</span></div><div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;<span class="comment">   * * ENTRY_SAMPLE if not calibrated jumps to ENTRY_CALIBRATE.</span></div><div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<span class="comment">   *   Otherwise it claims the ADC, invokes sample_setup_(), and</span></div><div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;<span class="comment">   *   transitions to SAMPLE (after a setup delay if necessary).</span></div><div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;<span class="comment">   * * SAMPLE queues an ADC collection and transitions to EXIT_SAMPLE.</span></div><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;<span class="comment">   * * EXIT_SAMPLE is blocked until the ADC completes, then it invokes</span></div><div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<span class="comment">   *   sample_teardown_() and processes the sample, emitting</span></div><div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;<span class="comment">   *   #PF_OBSERVATION if the collection was valid.  It then release</span></div><div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;<span class="comment">   *   the ADC and transitions to IDLE.</span></div><div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;<span class="comment">   * Calibration and sampling are queued ADCClient operations.</span></div><div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<span class="comment">   * Failure to successfully initiate the queued operation translates</span></div><div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;<span class="comment">   * to a machine error.</span></div><div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;<span class="comment">   * NOTE: The design of this machine is influenced by the inability</span></div><div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;<span class="comment">   * to queue multiple operations on the same client.  As a result the</span></div><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;<span class="comment">   * calibrate and sample operations cannot be made to occur within</span></div><div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<span class="comment">   * the same claim session.  This is a problem only when multiple</span></div><div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;<span class="comment">   * clients are managed with distinct LPSM wrappers, and calibration</span></div><div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;<span class="comment">   * may be performed with both single-ended and differential sampling</span></div><div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;<span class="comment">   * configurations producing different offsets, as documented in the</span></div><div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;<span class="comment">   * devzone posting below.</span></div><div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;<span class="comment">   *</span></div><div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;<span class="comment">   * See: https://devzone.nordicsemi.com/f/nordic-q-a/43316/nrf52832-saadc-configuration-effects-on-calibration */</span></div><div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;  <span class="keyword">static</span> constexpr <span class="keyword">auto</span> MS_ENTRY_CALIBRATE = <a class="code" href="classnrfcxx_1_1lpm_1_1state__machine.html#a8c790f9f0fe934fdadbccc81da14e54b">lpm::state_machine::MS_ENTRY_SAMPLE</a> + 1;</div><div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;  <span class="keyword">static</span> constexpr <span class="keyword">auto</span> MS_CALIBRATE = <a class="code" href="classnrfcxx_1_1lpm_1_1state__machine.html#a6e2e5694750f3e3adb4497d080ca626f">lpm::state_machine::MS_SAMPLE</a> + 1;</div><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;  <span class="keyword">static</span> constexpr <span class="keyword">auto</span> MS_EXIT_CALIBRATE = <a class="code" href="classnrfcxx_1_1lpm_1_1state__machine.html#af52aab635d507c6a8a63899552432687">lpm::state_machine::MS_EXIT_SAMPLE</a> + 1;</div><div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160; </div><div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;  <span class="keyword">using</span> flags_type = uint8_t;</div><div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160; </div><div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;  <span class="keyword">enum</span> flags_enum : flags_type</div><div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;  {</div><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    FL_CALIBRATING = 0x01,</div><div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div><div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    FL_SAMPLING = 0x02,</div><div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160; </div><div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    FL_PENDING = 0x08,</div><div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160; </div><div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    FL_CALIBRATED = 0x10,</div><div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160; </div><div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;    FL_THEN_SAMPLE = 0x20,</div><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;  };</div><div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div><div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00703"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper.html#aef45526fc68d93588f019eca3fbcd860">  703</a></span>&#160;  <span class="keyword">using</span> <a class="code" href="classnrfcxx_1_1mutex__irq.html">mutex_type</a> = <a class="code" href="classnrfcxx_1_1periph_1_1ADCClient.html#a7f0884cd04dfe56c31a5eaaa989be6a5">periph::ADCClient::mutex_type</a>;</div><div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160; </div><div class="line"><a name="l00708"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper.html#afe768b55cd1bf0548fdba5e9b16e37af">  708</a></span>&#160;  <span class="keyword">static</span> constexpr <span class="keyword">auto</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper.html#afe768b55cd1bf0548fdba5e9b16e37af">PF_CALIBRATED</a> = <a class="code" href="classnrfcxx_1_1lpm_1_1state__machine.html#ac318c7a59857181f6bc9a9aae7f0d4ad">lpm::state_machine::PF_APP_BASE</a> &lt;&lt; 0;</div><div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160; </div><div class="line"><a name="l00713"></a><span class="lineno"><a class="line" href="classnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper.html#a679c7e50176fea62fc50f89e08139785">  713</a></span>&#160;  <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper.html#a679c7e50176fea62fc50f89e08139785">lpsm_wrapper</a> (<a class="code" href="namespacenrfcxx.html#aec2e5281eceb50c80579cc72a0b42e76">notifier_type</a> notify,</div><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;                <a class="code" href="classnrfcxx_1_1periph_1_1ADCClient.html">periph::ADCClient</a>&amp; client) :</div><div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <a class="code" href="classnrfcxx_1_1lpm_1_1lpsm__capable.html">super_lpsm</a>{notify},</div><div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    client_{client}</div><div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;  { }</div><div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160; </div><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Client = periph::ADCClient&gt;</div><div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;  Client&amp; client ()<span class="keyword"> const</span></div><div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <span class="keywordflow">return</span> reinterpret_cast&lt;Client&amp;&gt;(client_);</div><div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;  }</div><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160; </div><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper.html#aaa5d7f34f1ae186113fa1daf81c8294e">lpsm_calibrate</a> ();</div><div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160; </div><div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper.html#ac1c77e5dec012b69d3b75fbe5cd28bdb">lpsm_bypass_calibration</a> ();</div><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160; </div><div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;  <span class="keywordtype">void</span> lpsm_reset_ ()<span class="keyword"> override</span></div><div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;<span class="keyword">  </span>{</div><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <a class="code" href="classnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper.html#aef45526fc68d93588f019eca3fbcd860">mutex_type</a> mutex;</div><div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    flags_bi_ = 0;</div><div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  }</div><div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160; </div><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;  <span class="keywordtype">int</span> lpsm_process_ (<span class="keywordtype">int</span>&amp; delay,</div><div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;                     process_flags_type&amp; lpf) <span class="keyword">override</span>;</div><div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160; </div><div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;  periph::ADCClient&amp; client_;</div><div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;  <span class="keywordtype">int</span> queue_rc_ = 0;</div><div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;  flags_type flags_bi_ = 0;</div><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;};</div><div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160; </div><div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;} <span class="comment">// ns adc</span></div><div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;} <span class="comment">// ns sensor</span></div><div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;} <span class="comment">// ns nrfcxx</span></div><div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160; </div><div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;<span class="preprocessor">#endif </span><span class="comment">/* NRFCXX_SENSOR_ADC_HPP */</span><span class="preprocessor"></span></div></div><!-- fragment --></div><!-- contents -->
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper_html_a679c7e50176fea62fc50f89e08139785"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper.html#a679c7e50176fea62fc50f89e08139785">nrfcxx::sensor::adc::lpsm_wrapper::lpsm_wrapper</a></div><div class="ttdeci">lpsm_wrapper(notifier_type notify, periph::ADCClient &amp;client)</div><div class="ttdoc">Construct an instance.</div><div class="ttdef"><b>Definition:</b> adc.hpp:713</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1vdd_html_a013bc02ec53c9f84d55c98b7721aca83"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1vdd.html#a013bc02ec53c9f84d55c98b7721aca83">nrfcxx::sensor::adc::vdd::convert_adc16_mV</a></div><div class="ttdeci">int convert_adc16_mV(unsigned int vdd_adc16) const</div><div class="ttdoc">Convert a measured voltage to VDD voltage.</div></div>
<div class="ttc" id="anamespacenrfcxx_1_1sensor_1_1adc_1_1steinhartHart_html_ae968b4884dd071731c886461efc96e01"><div class="ttname"><a href="namespacenrfcxx_1_1sensor_1_1adc_1_1steinhartHart.html#ae968b4884dd071731c886461efc96e01">nrfcxx::sensor::adc::steinhartHart::adafruit372fullScale</a></div><div class="ttdeci">const SteinhartHart adafruit372fullScale</div><div class="ttdoc">Constants for full-scale measurement with Adafruit thermistor.</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart_html_a04d002d76a22934a7c1f0798a16e622a"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#a04d002d76a22934a7c1f0798a16e622a">nrfcxx::sensor::adc::SteinhartHart::SteinhartHart</a></div><div class="ttdeci">constexpr SteinhartHart(float a=1.19438315714902408e-03, float b=2.19852114398042317e-04, float c=1.72427510143621963e-07, uint16_t open_adc16=2281, uint16_t short_adc16=65133)</div><div class="ttdoc">Store the coefficients and reference values.</div><div class="ttdef"><b>Definition:</b> adc.hpp:404</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor_html_a15a5bdb5f1908016e61bcf001d9a0694"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#a15a5bdb5f1908016e61bcf001d9a0694">nrfcxx::sensor::adc::ntcThermistor::SHORT_cCel</a></div><div class="ttdeci">static constexpr int SHORT_cCel</div><div class="ttdoc">Measurement returned by temperature_cCel() for a shorted thermistor.</div><div class="ttdef"><b>Definition:</b> adc.hpp:528</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor_html_ad9fea62a59ff9610aba97c19f3fe6ca8"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#ad9fea62a59ff9610aba97c19f3fe6ca8">nrfcxx::sensor::adc::ntcThermistor::steinhartHart</a></div><div class="ttdeci">const SteinhartHart *const steinhartHart</div><div class="ttdoc">The Steinhart-Hart coefficients and extreme values for the thermistor in the circuit.</div><div class="ttdef"><b>Definition:</b> adc.hpp:600</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor_html_a0f4a5b5ab69fd1ae8707d00a04aee486"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#a0f4a5b5ab69fd1ae8707d00a04aee486">nrfcxx::sensor::adc::ntcThermistor::INVALID_cCel</a></div><div class="ttdeci">static constexpr int INVALID_cCel</div><div class="ttdoc">An flag value for invalid temperatures.</div><div class="ttdef"><b>Definition:</b> adc.hpp:516</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1voltage__divider_html_a8034e726c93de9686ca65b389b350a62"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a8034e726c93de9686ca65b389b350a62">nrfcxx::sensor::adc::voltage_divider::sample_Ohm</a></div><div class="ttdeci">int sample_Ohm(size_t ci=0, bool filter_high_negative=false) const</div><div class="ttdoc">Retrieve the latest estimated resistance for a channel.</div></div>
<div class="ttc" id="aclassnrfcxx_1_1periph_1_1ADCClient_html_a87e37dfa9bc31d058f4e062b41392559"><div class="ttname"><a href="classnrfcxx_1_1periph_1_1ADCClient.html#a87e37dfa9bc31d058f4e062b41392559">nrfcxx::periph::ADCClient::flags_type</a></div><div class="ttdeci">unsigned int flags_type</div><div class="ttdoc">Type for client-specific flags.</div><div class="ttdef"><b>Definition:</b> periph.hpp:2127</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor_html_a67bae84d62cd7a2655f97cf3c61bce9e"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#a67bae84d62cd7a2655f97cf3c61bce9e">nrfcxx::sensor::adc::ntcThermistor::temperature_cCel</a></div><div class="ttdeci">int temperature_cCel(size_t ci=0)</div><div class="ttdoc">Convert the stored measured voltage to a thermisor.</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1voltage__divider_html_acfaf86f40e24d9fb3b7d92531c553f9b"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#acfaf86f40e24d9fb3b7d92531c553f9b">nrfcxx::sensor::adc::voltage_divider::sample_mV</a></div><div class="ttdeci">int sample_mV(size_t ci=0, bool truncate=false) const</div><div class="ttdoc">Retrieve the latest output voltage measurement for a channel.</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper_html_ac1c77e5dec012b69d3b75fbe5cd28bdb"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper.html#ac1c77e5dec012b69d3b75fbe5cd28bdb">nrfcxx::sensor::adc::lpsm_wrapper::lpsm_bypass_calibration</a></div><div class="ttdeci">int lpsm_bypass_calibration()</div><div class="ttdoc">Set the internal flag that indicates calibration has been performed.</div></div>
<div class="ttc" id="aclassnrfcxx_1_1periph_1_1ADCClient_html_a48bead8932cc26993e3b88b3ddcf2720"><div class="ttname"><a href="classnrfcxx_1_1periph_1_1ADCClient.html#a48bead8932cc26993e3b88b3ddcf2720">nrfcxx::periph::ADCClient::flags_</a></div><div class="ttdeci">flags_type flags_</div><div class="ttdoc">Flags for use by the core infrastructure and client specifications.</div><div class="ttdef"><b>Definition:</b> periph.hpp:2354</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor_html_a3c5376501427c472243398d1b0d4e760"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#a3c5376501427c472243398d1b0d4e760">nrfcxx::sensor::adc::ntcThermistor::therm_Ohm</a></div><div class="ttdeci">unsigned int therm_Ohm(size_t ci=0) const</div><div class="ttdoc">Return the estimated thermistor resistance, in Ohms.</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1voltage__divider_html_adfcfd3ac9de6e5a216e6115d9b557ee5"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#adfcfd3ac9de6e5a216e6115d9b557ee5">nrfcxx::sensor::adc::voltage_divider::measurement_mV</a></div><div class="ttdeci">virtual int measurement_mV(uint16_t m16) const</div><div class="ttdoc">Convert a raw ADC measurement to mV.</div><div class="ttdef"><b>Definition:</b> adc.hpp:290</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart_html"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html">nrfcxx::sensor::adc::SteinhartHart</a></div><div class="ttdoc">Type holding Steinhart-Hart coefficients and extreme values.</div><div class="ttdef"><b>Definition:</b> adc.hpp:380</div></div>
<div class="ttc" id="alpm_8hpp_html"><div class="ttname"><a href="lpm_8hpp.html">lpm.hpp</a></div><div class="ttdoc">Material supporting low-power-mode operations.</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper_html_aaa5d7f34f1ae186113fa1daf81c8294e"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper.html#aaa5d7f34f1ae186113fa1daf81c8294e">nrfcxx::sensor::adc::lpsm_wrapper::lpsm_calibrate</a></div><div class="ttdeci">int lpsm_calibrate()</div><div class="ttdoc">Initiate a calibration.</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1vdd_html_a279899bcbf05cb85e8e32ba5d4684f46"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1vdd.html#a279899bcbf05cb85e8e32ba5d4684f46">nrfcxx::sensor::adc::vdd::vdd</a></div><div class="ttdeci">vdd(vdd_callback_bi callback=nullptr)</div><div class="ttdoc">Construct an instance that measures board Vdd.</div><div class="ttdef"><b>Definition:</b> adc.hpp:52</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1voltage__divider_html_ae90d33489558aa743aff37d9108259ed"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#ae90d33489558aa743aff37d9108259ed">nrfcxx::sensor::adc::voltage_divider::r1_Ohm</a></div><div class="ttdeci">const unsigned int r1_Ohm</div><div class="ttdoc">The resistance of the upper leg of the voltage divider, connected to the input voltage.</div><div class="ttdef"><b>Definition:</b> adc.hpp:172</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor_html"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html">nrfcxx::sensor::adc::ntcThermistor</a></div><div class="ttdoc">Class supporting thermistor measurements.</div><div class="ttdef"><b>Definition:</b> adc.hpp:496</div></div>
<div class="ttc" id="aclassnrfcxx_1_1mutex__irq_html"><div class="ttname"><a href="classnrfcxx_1_1mutex__irq.html">nrfcxx::mutex_irq</a></div><div class="ttdoc">nvic_BlockIRQ as a template type.</div><div class="ttdef"><b>Definition:</b> core.hpp:497</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart_html_a07ab429876ec629bf389b8457ab4d745"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#a07ab429876ec629bf389b8457ab4d745">nrfcxx::sensor::adc::SteinhartHart::a</a></div><div class="ttdeci">const float a</div><div class="ttdoc">Coefficient of ln(R)^0.</div><div class="ttdef"><b>Definition:</b> adc.hpp:417</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1voltage__divider_html_a05ab5e7f4d5c968c1b39777b04072e84"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a05ab5e7f4d5c968c1b39777b04072e84">nrfcxx::sensor::adc::voltage_divider::channel_ain</a></div><div class="ttdeci">int channel_ain(size_t ci) const</div><div class="ttdoc">Extract the channel associated with the provided index.</div><div class="ttdef"><b>Definition:</b> adc.hpp:236</div></div>
<div class="ttc" id="aclassnrfcxx_1_1lpm_1_1state__machine_html_a6e2e5694750f3e3adb4497d080ca626f"><div class="ttname"><a href="classnrfcxx_1_1lpm_1_1state__machine.html#a6e2e5694750f3e3adb4497d080ca626f">nrfcxx::lpm::state_machine::MS_SAMPLE</a></div><div class="ttdeci">static constexpr state_type MS_SAMPLE</div><div class="ttdoc">States available to implement a sample state.</div><div class="ttdef"><b>Definition:</b> lpm.hpp:192</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1vdd_html_a178ec414586fb7ca9427d7facabfc5a9"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1vdd.html#a178ec414586fb7ca9427d7facabfc5a9">nrfcxx::sensor::adc::vdd::vdd_mV</a></div><div class="ttdeci">unsigned int vdd_mV() const</div><div class="ttdoc">Return the result of the most recent measurement.</div><div class="ttdef"><b>Definition:</b> adc.hpp:71</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor_html_a68bebf50196beb4d828d351e6d0b6986"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#a68bebf50196beb4d828d351e6d0b6986">nrfcxx::sensor::adc::ntcThermistor::OPEN_cCel</a></div><div class="ttdeci">static constexpr int OPEN_cCel</div><div class="ttdoc">Measurement returned by temperature_cCel() for an open thermistor.</div><div class="ttdef"><b>Definition:</b> adc.hpp:540</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor_html_a0841cdf0e4dab7671adf0e57117b3ff4"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#a0841cdf0e4dab7671adf0e57117b3ff4">nrfcxx::sensor::adc::ntcThermistor::therm_adc16</a></div><div class="ttdeci">unsigned int therm_adc16(size_t ci=0) const</div><div class="ttdoc">Return the last raw 16-bit ADC thermistor reading.</div></div>
<div class="ttc" id="aclassnrfcxx_1_1periph_1_1ADCClient_html_a9d9c5c5d6c75dc3864422eb6da008fe1a821b5c185a0aadd1f828f0e326ed1635"><div class="ttname"><a href="classnrfcxx_1_1periph_1_1ADCClient.html#a9d9c5c5d6c75dc3864422eb6da008fe1a821b5c185a0aadd1f828f0e326ed1635">nrfcxx::periph::ADCClient::FL_SUBCLASS_BASE</a></div><div class="ttdoc">Base for subclass use of flags_.</div><div class="ttdef"><b>Definition:</b> periph.hpp:2154</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor_html_aeabde005f3779af36438cd058879e765"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#aeabde005f3779af36438cd058879e765">nrfcxx::sensor::adc::ntcThermistor::ABSOLUTE_ZERO_cCel</a></div><div class="ttdeci">static constexpr int ABSOLUTE_ZERO_cCel</div><div class="ttdoc">Constant used to convert between Kelvin and Celsius.</div><div class="ttdef"><b>Definition:</b> adc.hpp:502</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1voltage__divider_html_a807a298cd1b9a6f432eb9add7a51b7a4"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a807a298cd1b9a6f432eb9add7a51b7a4">nrfcxx::sensor::adc::voltage_divider::measurement_Ohm</a></div><div class="ttdeci">int measurement_Ohm(uint16_t m16) const</div><div class="ttdoc">Convert a raw ADC measurement to the estimated resistance.</div><div class="ttdef"><b>Definition:</b> adc.hpp:306</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1vdd_html_a21486fe126be7cda07fe37e0442ed473"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1vdd.html#a21486fe126be7cda07fe37e0442ed473">nrfcxx::sensor::adc::vdd::vdd_callback_bi</a></div><div class="ttdeci">std::function&lt; void(unsigned int vdd_mV)&gt; vdd_callback_bi</div><div class="ttdoc">Type for a function invoked from the ADC IRQ to provide the calculated VDD.</div><div class="ttdef"><b>Definition:</b> adc.hpp:44</div></div>
<div class="ttc" id="aclassnrfcxx_1_1periph_1_1ADCClient_html"><div class="ttname"><a href="classnrfcxx_1_1periph_1_1ADCClient.html">nrfcxx::periph::ADCClient</a></div><div class="ttdoc">Base class for a client of ADC.</div><div class="ttdef"><b>Definition:</b> periph.hpp:2123</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1voltage__divider_html_aa9d54184916289bdeb9ec1b1055b97ad"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#aa9d54184916289bdeb9ec1b1055b97ad">nrfcxx::sensor::adc::voltage_divider::voltage_divider</a></div><div class="ttdeci">voltage_divider(unsigned int r1_Ohm, unsigned int r2_Ohm, Iterator ains_begin, Iterator ains_end, volatile uint16_t *raw=nullptr)</div><div class="ttdoc">Generic constructor for an iterable set of channels and optional external storage.</div><div class="ttdef"><b>Definition:</b> adc.hpp:197</div></div>
<div class="ttc" id="anamespacenrfcxx_1_1sensor_1_1adc_1_1steinhartHart_html_acc6235e4ac0050f892313b38eed6ab00"><div class="ttname"><a href="namespacenrfcxx_1_1sensor_1_1adc_1_1steinhartHart.html#acc6235e4ac0050f892313b38eed6ab00">nrfcxx::sensor::adc::steinhartHart::adafruit372refrigerator</a></div><div class="ttdeci">const SteinhartHart adafruit372refrigerator</div><div class="ttdoc">Constants for full-scale measurement with Adafruit thermistor.</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart_html_af0e148e8e1e014d3c1129f258883451d"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#af0e148e8e1e014d3c1129f258883451d">nrfcxx::sensor::adc::SteinhartHart::c</a></div><div class="ttdeci">const float c</div><div class="ttdoc">Coefficient of ln(R)^3.</div><div class="ttdef"><b>Definition:</b> adc.hpp:423</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1voltage__divider_html_a3c2cda067db1782e704bd0390909dde7"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a3c2cda067db1782e704bd0390909dde7">nrfcxx::sensor::adc::voltage_divider::r2_Ohm</a></div><div class="ttdeci">const unsigned int r2_Ohm</div><div class="ttdoc">The resistance of the lower leg of the voltage divider, connected to ground.</div><div class="ttdef"><b>Definition:</b> adc.hpp:179</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1voltage__divider_html_ae7774c1d0caa0490c438ea736e5cc0fa"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#ae7774c1d0caa0490c438ea736e5cc0fa">nrfcxx::sensor::adc::voltage_divider::voltage_divider</a></div><div class="ttdeci">voltage_divider(unsigned int r1_Ohm, unsigned int r2_Ohm, uint8_t ain)</div><div class="ttdoc">Constructor for common case of a single channel with internal storage.</div><div class="ttdef"><b>Definition:</b> adc.hpp:210</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart_html_a10439b292ab7658e2f923d3cb109b382"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#a10439b292ab7658e2f923d3cb109b382">nrfcxx::sensor::adc::SteinhartHart::temperature_cK</a></div><div class="ttdeci">int temperature_cK(unsigned int therm_Ohm) const</div><div class="ttdoc">Calculate the temperature corresponding to a measured thermistor resistance.</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1voltage__divider_html_ab5e433d087317a350d532b072fd01f17"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#ab5e433d087317a350d532b072fd01f17">nrfcxx::sensor::adc::voltage_divider::sample_adc16</a></div><div class="ttdeci">int sample_adc16(size_t ci=0) const</div><div class="ttdoc">Retrieve the latest raw measurement for a channel.</div><div class="ttdef"><b>Definition:</b> adc.hpp:252</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper_html_aef45526fc68d93588f019eca3fbcd860"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper.html#aef45526fc68d93588f019eca3fbcd860">nrfcxx::sensor::adc::lpsm_wrapper::mutex_type</a></div><div class="ttdeci">periph::ADCClient::mutex_type mutex_type</div><div class="ttdoc">Mutex domain is that of the ADC.</div><div class="ttdef"><b>Definition:</b> adc.hpp:703</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper_html"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper.html">nrfcxx::sensor::adc::lpsm_wrapper</a></div><div class="ttdoc">A class that implements an LPM state machine around a periph::ADCClient.</div><div class="ttdef"><b>Definition:</b> adc.hpp:626</div></div>
<div class="ttc" id="anamespacenrfcxx_html_aec2e5281eceb50c80579cc72a0b42e76"><div class="ttname"><a href="namespacenrfcxx.html#aec2e5281eceb50c80579cc72a0b42e76">nrfcxx::notifier_type</a></div><div class="ttdeci">std::function&lt; void()&gt; notifier_type</div><div class="ttdoc">Type used to hold a notifier.</div><div class="ttdef"><b>Definition:</b> core.hpp:514</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1voltage__divider_html_a99074ff3d23a1c57e0632d5820f91017"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a99074ff3d23a1c57e0632d5820f91017">nrfcxx::sensor::adc::voltage_divider::voltage_divider</a></div><div class="ttdeci">voltage_divider(unsigned int r1_Ohm, unsigned int r2_Ohm, std::initializer_list&lt; uint8_t &gt; ains, volatile uint16_t *raw=nullptr)</div><div class="ttdoc">Constructor for an explicit list of channels.</div><div class="ttdef"><b>Definition:</b> adc.hpp:217</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart_html_ab3180e2209863cbe272442f04d79b36d"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#ab3180e2209863cbe272442f04d79b36d">nrfcxx::sensor::adc::SteinhartHart::open_adc16</a></div><div class="ttdeci">const uint16_t open_adc16</div><div class="ttdoc">16-bit ADC upper threshold for open thermistor.</div><div class="ttdef"><b>Definition:</b> adc.hpp:432</div></div>
<div class="ttc" id="aclassnrfcxx_1_1lpm_1_1state__machine_html_af52aab635d507c6a8a63899552432687"><div class="ttname"><a href="classnrfcxx_1_1lpm_1_1state__machine.html#af52aab635d507c6a8a63899552432687">nrfcxx::lpm::state_machine::MS_EXIT_SAMPLE</a></div><div class="ttdeci">static constexpr state_type MS_EXIT_SAMPLE</div><div class="ttdoc">States available to guard exit from a sample state.</div><div class="ttdef"><b>Definition:</b> lpm.hpp:201</div></div>
<div class="ttc" id="astructnrfcxx_1_1nrf5_1_1series_1_1ADC__Peripheral_html_aa8d08705085899dba0e2721667b43917"><div class="ttname"><a href="structnrfcxx_1_1nrf5_1_1series_1_1ADC__Peripheral.html#aa8d08705085899dba0e2721667b43917">nrfcxx::nrf5::series::ADC_Peripheral::VBG_mV</a></div><div class="ttdeci">static constexpr unsigned int VBG_mV</div><div class="ttdoc">nRF51 reference voltage is 1.2 V.</div><div class="ttdef"><b>Definition:</b> impl.hpp:26</div></div>
<div class="ttc" id="aclassnrfcxx_1_1lpm_1_1lpsm__capable_html"><div class="ttname"><a href="classnrfcxx_1_1lpm_1_1lpsm__capable.html">nrfcxx::lpm::lpsm_capable</a></div><div class="ttdoc">Base (or mixin) class for anything that supports a state_machine.</div><div class="ttdef"><b>Definition:</b> lpm.hpp:426</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper_html_afe768b55cd1bf0548fdba5e9b16e37af"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1lpsm__wrapper.html#afe768b55cd1bf0548fdba5e9b16e37af">nrfcxx::sensor::adc::lpsm_wrapper::PF_CALIBRATED</a></div><div class="ttdeci">static constexpr auto PF_CALIBRATED</div><div class="ttdoc">Sensor-specific indication from lpm::lpsm_capable::lpsm_process() that the ADC has been calibrated.</div><div class="ttdef"><b>Definition:</b> adc.hpp:708</div></div>
<div class="ttc" id="aclassnrfcxx_1_1lpm_1_1state__machine_html_a8c790f9f0fe934fdadbccc81da14e54b"><div class="ttname"><a href="classnrfcxx_1_1lpm_1_1state__machine.html#a8c790f9f0fe934fdadbccc81da14e54b">nrfcxx::lpm::state_machine::MS_ENTRY_SAMPLE</a></div><div class="ttdeci">static constexpr state_type MS_ENTRY_SAMPLE</div><div class="ttdoc">States available to guard entry to a sample state.</div><div class="ttdef"><b>Definition:</b> lpm.hpp:183</div></div>
<div class="ttc" id="aclassnrfcxx_1_1lpm_1_1state__machine_html_ac318c7a59857181f6bc9a9aae7f0d4ad"><div class="ttname"><a href="classnrfcxx_1_1lpm_1_1state__machine.html#ac318c7a59857181f6bc9a9aae7f0d4ad">nrfcxx::lpm::state_machine::PF_APP_BASE</a></div><div class="ttdeci">static constexpr process_flags_type PF_APP_BASE</div><div class="ttdoc">First lpsm_capable::lpsm_process() flag bit available for application-specific result code bits.</div><div class="ttdef"><b>Definition:</b> lpm.hpp:255</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1voltage__divider_html_a225fb56d0b9f46e60f9503c2d63d45c8"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a225fb56d0b9f46e60f9503c2d63d45c8">nrfcxx::sensor::adc::voltage_divider::input_mV</a></div><div class="ttdeci">int input_mV(size_t ci=0) const</div><div class="ttdoc">Retrieve the latest input voltage measurement for a channel.</div></div>
<div class="ttc" id="aclassnrfcxx_1_1periph_1_1ADCClient_html_a7f0884cd04dfe56c31a5eaaa989be6a5"><div class="ttname"><a href="classnrfcxx_1_1periph_1_1ADCClient.html#a7f0884cd04dfe56c31a5eaaa989be6a5">nrfcxx::periph::ADCClient::mutex_type</a></div><div class="ttdeci">peripheral::mutex_type mutex_type</div><div class="ttdoc">Mutex required to inhibit ADC interrupts.</div><div class="ttdef"><b>Definition:</b> periph.hpp:2178</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1vdd_html"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1vdd.html">nrfcxx::sensor::adc::vdd</a></div><div class="ttdoc">ADC instance to measure board Vdd.</div><div class="ttdef"><b>Definition:</b> adc.hpp:27</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor_html_aaf8af117b5006d383923d8f47717ade0"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#aaf8af117b5006d383923d8f47717ade0">nrfcxx::sensor::adc::ntcThermistor::ntcThermistor</a></div><div class="ttdeci">ntcThermistor(Iterator ains_begin, Iterator ains_end, volatile uint16_t *raw=nullptr, const SteinhartHart *coeff=&amp;steinhartHart::adafruit372fullScale, unsigned int ref_Ohm=10000)</div><div class="ttdoc">Generic constructor for an iterable set of thermistor channels and optional external storage.</div><div class="ttdef"><b>Definition:</b> adc.hpp:556</div></div>
<div class="ttc" id="anamespacenrfcxx_1_1sensor_1_1adc_1_1steinhartHart_html_a02c5435550ab4a6c74de7dd5badc558b"><div class="ttname"><a href="namespacenrfcxx_1_1sensor_1_1adc_1_1steinhartHart.html#a02c5435550ab4a6c74de7dd5badc558b">nrfcxx::sensor::adc::steinhartHart::adafruit372hvac</a></div><div class="ttdeci">const SteinhartHart adafruit372hvac</div><div class="ttdoc">Constants for HVAC measurement with Adafruit thermistor.</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart_html_ab9bce11b9473842921cd154cb060e0d5"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#ab9bce11b9473842921cd154cb060e0d5">nrfcxx::sensor::adc::SteinhartHart::short_adc16</a></div><div class="ttdeci">const uint16_t short_adc16</div><div class="ttdoc">16-bit ADC lower threshold for shorted thermistor.</div><div class="ttdef"><b>Definition:</b> adc.hpp:441</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart_html_a1cc0e733b13d9368b0913655b43698d6"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1SteinhartHart.html#a1cc0e733b13d9368b0913655b43698d6">nrfcxx::sensor::adc::SteinhartHart::b</a></div><div class="ttdeci">const float b</div><div class="ttdoc">Coefficient of ln(R)^1.</div><div class="ttdef"><b>Definition:</b> adc.hpp:420</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1voltage__divider_html"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html">nrfcxx::sensor::adc::voltage_divider</a></div><div class="ttdoc">ADC instance for voltage dividers.</div><div class="ttdef"><b>Definition:</b> adc.hpp:96</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor_html_af9adc2f535ed2e5a143411b65343f475"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#af9adc2f535ed2e5a143411b65343f475">nrfcxx::sensor::adc::ntcThermistor::ntcThermistor</a></div><div class="ttdeci">ntcThermistor(std::initializer_list&lt; uint8_t &gt; ains, volatile uint16_t *raw=nullptr, const SteinhartHart *coeff=&amp;steinhartHart::adafruit372fullScale, unsigned int ref_Ohm=10000)</div><div class="ttdoc">Constructor for an explicit list of channels.</div><div class="ttdef"><b>Definition:</b> adc.hpp:566</div></div>
<div class="ttc" id="aperiph_8hpp_html"><div class="ttname"><a href="periph_8hpp.html">periph.hpp</a></div><div class="ttdoc">Abstraction of Nordic device peripherals.</div></div>
<div class="ttc" id="anamespacenrfcxx_html"><div class="ttname"><a href="namespacenrfcxx.html">nrfcxx</a></div><div class="ttdoc">Primary namespace for nrfcxx functionality.</div><div class="ttdef"><b>Definition:</b> clock.hpp:17</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1voltage__divider_html_a2ce5b7290cb91cd1a2cdc4b525106914"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1voltage__divider.html#a2ce5b7290cb91cd1a2cdc4b525106914">nrfcxx::sensor::adc::voltage_divider::count</a></div><div class="ttdeci">size_t count() const</div><div class="ttdoc">The number of channels used by this client.</div><div class="ttdef"><b>Definition:</b> adc.hpp:225</div></div>
<div class="ttc" id="aclassnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor_html_ae02012c9fbdce7e0b82715f411af72ba"><div class="ttname"><a href="classnrfcxx_1_1sensor_1_1adc_1_1ntcThermistor.html#ae02012c9fbdce7e0b82715f411af72ba">nrfcxx::sensor::adc::ntcThermistor::convert_adc16_cCel</a></div><div class="ttdeci">int convert_adc16_cCel(unsigned int therm_adc16)</div><div class="ttdoc">Convert a measured voltage to a temperature.</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
