<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>nrfcxx: nrfcxx::periph::QSPI Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">nrfcxx
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">C++-17 Framework for Nordic nRF5 Devices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacenrfcxx.html">nrfcxx</a></li><li class="navelem"><a class="el" href="namespacenrfcxx_1_1periph.html">periph</a></li><li class="navelem"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html">QSPI</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">nrfcxx::periph::QSPI Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Wrapper around the nRF52 QSPI peripheral.  
 <a href="classnrfcxx_1_1periph_1_1QSPI.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="periph_8hpp_source.html">nrfcxx/periph.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnrfcxx_1_1periph_1_1QSPI_1_1configuration__type.html">configuration_type</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration parameters for QSPI peripheral.  <a href="structnrfcxx_1_1periph_1_1QSPI_1_1configuration__type.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a6b8f240620364fb6e8fa8d7659e91414"><td class="memItemLeft" align="right" valign="top"><a id="a6b8f240620364fb6e8fa8d7659e91414"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a6b8f240620364fb6e8fa8d7659e91414">mutex_type</a> = <a class="el" href="classnrfcxx_1_1mutex__irq.html">mutex_irq</a>&lt; QSPI_IRQn &gt;</td></tr>
<tr class="memdesc:a6b8f240620364fb6e8fa8d7659e91414"><td class="mdescLeft">&#160;</td><td class="mdescRight">An RAII type for mutex access to state that must be protected from QSPI interrupts. <br /></td></tr>
<tr class="separator:a6b8f240620364fb6e8fa8d7659e91414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a084c571c0982f781eb9c01d496eb66da"><td class="memItemLeft" align="right" valign="top"><a id="a084c571c0982f781eb9c01d496eb66da"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a084c571c0982f781eb9c01d496eb66da">offset_type</a> = unsigned int</td></tr>
<tr class="memdesc:a084c571c0982f781eb9c01d496eb66da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsigned type specifying flash memory addresses. <br /></td></tr>
<tr class="separator:a084c571c0982f781eb9c01d496eb66da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a188d3a992697fa265cda92a0fe02d65e"><td class="memItemLeft" align="right" valign="top"><a id="a188d3a992697fa265cda92a0fe02d65e"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a188d3a992697fa265cda92a0fe02d65e">size_type</a> = unsigned int</td></tr>
<tr class="memdesc:a188d3a992697fa265cda92a0fe02d65e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unsigned type holding size of transfers. <br /></td></tr>
<tr class="separator:a188d3a992697fa265cda92a0fe02d65e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b1e45cc198049f87e2ac895081ee352"><td class="memItemLeft" align="right" valign="top"><a id="a9b1e45cc198049f87e2ac895081ee352"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a9b1e45cc198049f87e2ac895081ee352">ssize_type</a> = int</td></tr>
<tr class="memdesc:a9b1e45cc198049f87e2ac895081ee352"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signed type holding transfer sizes or error codes. <br /></td></tr>
<tr class="separator:a9b1e45cc198049f87e2ac895081ee352"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a350d996b84a190c4f0c020cbb0c9a3a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a350d996b84a190c4f0c020cbb0c9a3a5">QSPI</a> (const <a class="el" href="structnrfcxx_1_1periph_1_1QSPI_1_1configuration__type.html">configuration_type</a> &amp;<a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#ad5f4872ee8a694e71e2c0462ff1f2960">configuration</a>)</td></tr>
<tr class="memdesc:a350d996b84a190c4f0c020cbb0c9a3a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html" title="Wrapper around the nRF52 QSPI peripheral.">QSPI</a> interface.  <a href="#a350d996b84a190c4f0c020cbb0c9a3a5">More...</a><br /></td></tr>
<tr class="separator:a350d996b84a190c4f0c020cbb0c9a3a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5f4872ee8a694e71e2c0462ff1f2960"><td class="memItemLeft" align="right" valign="top"><a id="ad5f4872ee8a694e71e2c0462ff1f2960"></a>
const <a class="el" href="structnrfcxx_1_1periph_1_1QSPI_1_1configuration__type.html">configuration_type</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#ad5f4872ee8a694e71e2c0462ff1f2960">configuration</a> () const</td></tr>
<tr class="memdesc:ad5f4872ee8a694e71e2c0462ff1f2960"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reference the QSPI configuration provided on construction. <br /></td></tr>
<tr class="separator:ad5f4872ee8a694e71e2c0462ff1f2960"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a600a7ab031a5c618151544313e0b7c3d"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a600a7ab031a5c618151544313e0b7c3d">latest_sr</a> () const</td></tr>
<tr class="memdesc:a600a7ab031a5c618151544313e0b7c3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the most recent cached flash device status register value.  <a href="#a600a7ab031a5c618151544313e0b7c3d">More...</a><br /></td></tr>
<tr class="separator:a600a7ab031a5c618151544313e0b7c3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2110fac7833593e7ccf440195f67fcc4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a2110fac7833593e7ccf440195f67fcc4">read_sr</a> () const</td></tr>
<tr class="memdesc:a2110fac7833593e7ccf440195f67fcc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the current device status register value.  <a href="#a2110fac7833593e7ccf440195f67fcc4">More...</a><br /></td></tr>
<tr class="separator:a2110fac7833593e7ccf440195f67fcc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43f74436f1c4fdb1b3c49a5ceaffafdd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a43f74436f1c4fdb1b3c49a5ceaffafdd">is_qspi_available</a> () const</td></tr>
<tr class="memdesc:a43f74436f1c4fdb1b3c49a5ceaffafdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine whether the QSPI peripheral is available for new commands.  <a href="#a43f74436f1c4fdb1b3c49a5ceaffafdd">More...</a><br /></td></tr>
<tr class="separator:a43f74436f1c4fdb1b3c49a5ceaffafdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a585fcdc88b578b6dce9e7e2407228195"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a585fcdc88b578b6dce9e7e2407228195">is_write_complete</a> (int sr) const</td></tr>
<tr class="memdesc:a585fcdc88b578b6dce9e7e2407228195"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test a status register value for completion of all write activities.  <a href="#a585fcdc88b578b6dce9e7e2407228195">More...</a><br /></td></tr>
<tr class="separator:a585fcdc88b578b6dce9e7e2407228195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a356d2526cdfc79e75d2ccd4d5d7b639d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a356d2526cdfc79e75d2ccd4d5d7b639d">is_powerdown</a> () const</td></tr>
<tr class="memdesc:a356d2526cdfc79e75d2ccd4d5d7b639d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the peripheral flag value indicating whether the device is in deep power-down mode.  <a href="#a356d2526cdfc79e75d2ccd4d5d7b639d">More...</a><br /></td></tr>
<tr class="separator:a356d2526cdfc79e75d2ccd4d5d7b639d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7843fd32187e683856a4b7beb136182"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#aa7843fd32187e683856a4b7beb136182">is_ready</a> () const</td></tr>
<tr class="memdesc:aa7843fd32187e683856a4b7beb136182"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the isolated peripheral flag value indicating whether the device is ready to receive new tasks or mode transisions.  <a href="#aa7843fd32187e683856a4b7beb136182">More...</a><br /></td></tr>
<tr class="separator:aa7843fd32187e683856a4b7beb136182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60ca7a4f68c67fab1687358405d443c2"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a60ca7a4f68c67fab1687358405d443c2">read</a> (<a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a084c571c0982f781eb9c01d496eb66da">offset_type</a> addr, void *dest, <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a188d3a992697fa265cda92a0fe02d65e">size_type</a> count)</td></tr>
<tr class="memdesc:a60ca7a4f68c67fab1687358405d443c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read data from the device at a specified address.  <a href="#a60ca7a4f68c67fab1687358405d443c2">More...</a><br /></td></tr>
<tr class="separator:a60ca7a4f68c67fab1687358405d443c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a333badf5b140b7c8ea384890f5b719ab"><td class="memItemLeft" align="right" valign="top">ssize_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a333badf5b140b7c8ea384890f5b719ab">write</a> (<a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a084c571c0982f781eb9c01d496eb66da">offset_type</a> addr, const void *src, <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a188d3a992697fa265cda92a0fe02d65e">size_type</a> count)</td></tr>
<tr class="memdesc:a333badf5b140b7c8ea384890f5b719ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to the device at a specified address.  <a href="#a333badf5b140b7c8ea384890f5b719ab">More...</a><br /></td></tr>
<tr class="separator:a333badf5b140b7c8ea384890f5b719ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30e1fd5ee4e71922cd8112ec40900ef4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a30e1fd5ee4e71922cd8112ec40900ef4">erase</a> (uint8_t type, <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a084c571c0982f781eb9c01d496eb66da">offset_type</a> addr=-1)</td></tr>
<tr class="memdesc:a30e1fd5ee4e71922cd8112ec40900ef4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initiate an erase of a single flash storage item.  <a href="#a30e1fd5ee4e71922cd8112ec40900ef4">More...</a><br /></td></tr>
<tr class="separator:a30e1fd5ee4e71922cd8112ec40900ef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee6e27d5249c0a1bd704e85e9c9509b"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a6ee6e27d5249c0a1bd704e85e9c9509b">jedec_id</a> () const</td></tr>
<tr class="memdesc:a6ee6e27d5249c0a1bd704e85e9c9509b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the JEDEC ID cached on the first activation of the instance.  <a href="#a6ee6e27d5249c0a1bd704e85e9c9509b">More...</a><br /></td></tr>
<tr class="separator:a6ee6e27d5249c0a1bd704e85e9c9509b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37c08043b86ade5dfb3afa9673be072c"><td class="memItemLeft" align="right" valign="top"><a id="a37c08043b86ade5dfb3afa9673be072c"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a37c08043b86ade5dfb3afa9673be072c">is_activated</a> () const</td></tr>
<tr class="memdesc:a37c08043b86ade5dfb3afa9673be072c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether this instance is already activated. <br /></td></tr>
<tr class="separator:a37c08043b86ade5dfb3afa9673be072c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5552586e3bcc82bedd37b89fc8092bd"><td class="memItemLeft" align="right" valign="top"><a id="ac5552586e3bcc82bedd37b89fc8092bd"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#ac5552586e3bcc82bedd37b89fc8092bd">is_owner</a> () const</td></tr>
<tr class="memdesc:ac5552586e3bcc82bedd37b89fc8092bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether this instance has control of the QSPI peripheral. <br /></td></tr>
<tr class="separator:ac5552586e3bcc82bedd37b89fc8092bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b21260c5c5cb8950f4816d2fff3ddae"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a4b21260c5c5cb8950f4816d2fff3ddae">claim</a> ()</td></tr>
<tr class="memdesc:a4b21260c5c5cb8950f4816d2fff3ddae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to claim use of the QSPI peripheral.  <a href="#a4b21260c5c5cb8950f4816d2fff3ddae">More...</a><br /></td></tr>
<tr class="separator:a4b21260c5c5cb8950f4816d2fff3ddae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80fb64dd74038ac64de14363973fa2f0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a80fb64dd74038ac64de14363973fa2f0">release</a> ()</td></tr>
<tr class="memdesc:a80fb64dd74038ac64de14363973fa2f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Release the QSPI peripheral if held by this instance.  <a href="#a80fb64dd74038ac64de14363973fa2f0">More...</a><br /></td></tr>
<tr class="separator:a80fb64dd74038ac64de14363973fa2f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94aa1059b3216eb8828fd2068c4a2ca0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a94aa1059b3216eb8828fd2068c4a2ca0">activate</a> ()</td></tr>
<tr class="memdesc:a94aa1059b3216eb8828fd2068c4a2ca0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate the QSPI peripheral to interact with this device.  <a href="#a94aa1059b3216eb8828fd2068c4a2ca0">More...</a><br /></td></tr>
<tr class="separator:a94aa1059b3216eb8828fd2068c4a2ca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07d7b5e3f57b59b32f796dd827e2480a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a07d7b5e3f57b59b32f796dd827e2480a">deactivate</a> ()</td></tr>
<tr class="memdesc:a07d7b5e3f57b59b32f796dd827e2480a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivate the QSPI peripheral.  <a href="#a07d7b5e3f57b59b32f796dd827e2480a">More...</a><br /></td></tr>
<tr class="separator:a07d7b5e3f57b59b32f796dd827e2480a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a209d7b4269f2c1eeb81fc4f6ced38f23"><td class="memItemLeft" align="right" valign="top">static constexpr unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a209d7b4269f2c1eeb81fc4f6ced38f23">convert_us_dpmdur</a> (unsigned int dur_us)</td></tr>
<tr class="memdesc:a209d7b4269f2c1eeb81fc4f6ced38f23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a duration expressed in microseconds to the units of the DPMDUR register.  <a href="#a209d7b4269f2c1eeb81fc4f6ced38f23">More...</a><br /></td></tr>
<tr class="separator:a209d7b4269f2c1eeb81fc4f6ced38f23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe55a975b37162d39edaa31f8addc8cb"><td class="memItemLeft" align="right" valign="top"><a id="abe55a975b37162d39edaa31f8addc8cb"></a>
static <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html">QSPI</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#abe55a975b37162d39edaa31f8addc8cb">owner</a> ()</td></tr>
<tr class="memdesc:abe55a975b37162d39edaa31f8addc8cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the instance that owns the QSPI peripheral. <br /></td></tr>
<tr class="separator:abe55a975b37162d39edaa31f8addc8cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ab2440959d7d9dcaca21fb4fdbe5dc796"><td class="memItemLeft" align="right" valign="top"><a id="ab2440959d7d9dcaca21fb4fdbe5dc796"></a>
static constexpr uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#ab2440959d7d9dcaca21fb4fdbe5dc796">SR_WIP</a> = 0x01</td></tr>
<tr class="memdesc:ab2440959d7d9dcaca21fb4fdbe5dc796"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit flag for status register write-in-progress bit. <br /></td></tr>
<tr class="separator:ab2440959d7d9dcaca21fb4fdbe5dc796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32d7309ab172d1ccde2f51c3b8d60735"><td class="memItemLeft" align="right" valign="top"><a id="a32d7309ab172d1ccde2f51c3b8d60735"></a>
static constexpr uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a32d7309ab172d1ccde2f51c3b8d60735">SR_WEL</a> = 0x02</td></tr>
<tr class="memdesc:a32d7309ab172d1ccde2f51c3b8d60735"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit flag for status register write-enable-latch bit. <br /></td></tr>
<tr class="separator:a32d7309ab172d1ccde2f51c3b8d60735"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ff18dc5330afa53feb94f54d721eb1c"><td class="memItemLeft" align="right" valign="top"><a id="a4ff18dc5330afa53feb94f54d721eb1c"></a>
static constexpr uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a4ff18dc5330afa53feb94f54d721eb1c">SR_BP0</a> = 0x04</td></tr>
<tr class="memdesc:a4ff18dc5330afa53feb94f54d721eb1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit flag for status register protected area block bit 0. <br /></td></tr>
<tr class="separator:a4ff18dc5330afa53feb94f54d721eb1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ee3985384ab224f27d47bc6fd144c34"><td class="memItemLeft" align="right" valign="top"><a id="a7ee3985384ab224f27d47bc6fd144c34"></a>
static constexpr uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a7ee3985384ab224f27d47bc6fd144c34">SR_BP1</a> = 0x08</td></tr>
<tr class="memdesc:a7ee3985384ab224f27d47bc6fd144c34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit flag for status register protected area block bit 1. <br /></td></tr>
<tr class="separator:a7ee3985384ab224f27d47bc6fd144c34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a386ab1e99efb76aed1fe36de53ee18c2"><td class="memItemLeft" align="right" valign="top"><a id="a386ab1e99efb76aed1fe36de53ee18c2"></a>
static constexpr uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a386ab1e99efb76aed1fe36de53ee18c2">SR_BP2</a> = 0x10</td></tr>
<tr class="memdesc:a386ab1e99efb76aed1fe36de53ee18c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit flag for status register protected area block bit 2. <br /></td></tr>
<tr class="separator:a386ab1e99efb76aed1fe36de53ee18c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a899c1339f85837c0d8e7c8ee8969d46b"><td class="memItemLeft" align="right" valign="top"><a id="a899c1339f85837c0d8e7c8ee8969d46b"></a>
static constexpr uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a899c1339f85837c0d8e7c8ee8969d46b">SR_BP3</a> = 0x20</td></tr>
<tr class="memdesc:a899c1339f85837c0d8e7c8ee8969d46b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit flag for status register protected area block bit 3. <br /></td></tr>
<tr class="separator:a899c1339f85837c0d8e7c8ee8969d46b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae428992aa7505c244b20cdab21acfe18"><td class="memItemLeft" align="right" valign="top"><a id="ae428992aa7505c244b20cdab21acfe18"></a>
static constexpr uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#ae428992aa7505c244b20cdab21acfe18">SR_QE</a> = 0x40</td></tr>
<tr class="memdesc:ae428992aa7505c244b20cdab21acfe18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit flag for status register quad-enabled bit. <br /></td></tr>
<tr class="separator:ae428992aa7505c244b20cdab21acfe18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48f0ccf690351e9a643f27eec158680a"><td class="memItemLeft" align="right" valign="top">static constexpr uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a48f0ccf690351e9a643f27eec158680a">SR_SWRD</a> = 0x80</td></tr>
<tr class="memdesc:a48f0ccf690351e9a643f27eec158680a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit flag for status register write protect bit.  <a href="#a48f0ccf690351e9a643f27eec158680a">More...</a><br /></td></tr>
<tr class="separator:a48f0ccf690351e9a643f27eec158680a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2098bd2c3ea8fad8a9cf3fc9e7b7595b"><td class="memItemLeft" align="right" valign="top">static constexpr auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a2098bd2c3ea8fad8a9cf3fc9e7b7595b">ERASE_4_KB</a> = static_cast&lt;uint8_t&gt;(QSPI_ERASE_LEN_LEN_4KB) &lt;&lt; QSPI_ERASE_LEN_LEN_Pos</td></tr>
<tr class="memdesc:a2098bd2c3ea8fad8a9cf3fc9e7b7595b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag value denoting intent to erase a single 4 KiBy sector.  <a href="#a2098bd2c3ea8fad8a9cf3fc9e7b7595b">More...</a><br /></td></tr>
<tr class="separator:a2098bd2c3ea8fad8a9cf3fc9e7b7595b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02fef2a8428258a483ca008d8f19d851"><td class="memItemLeft" align="right" valign="top">static constexpr auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a02fef2a8428258a483ca008d8f19d851">ERASE_64_KB</a> = static_cast&lt;uint8_t&gt;(QSPI_ERASE_LEN_LEN_64KB) &lt;&lt; QSPI_ERASE_LEN_LEN_Pos</td></tr>
<tr class="memdesc:a02fef2a8428258a483ca008d8f19d851"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag value denoting intent to erase a single 64 KiBy block.  <a href="#a02fef2a8428258a483ca008d8f19d851">More...</a><br /></td></tr>
<tr class="separator:a02fef2a8428258a483ca008d8f19d851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c7cce97c846577d40f0bdebef5291b6"><td class="memItemLeft" align="right" valign="top">static constexpr auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a7c7cce97c846577d40f0bdebef5291b6">ERASE_CHIP</a> = static_cast&lt;uint8_t&gt;(QSPI_ERASE_LEN_LEN_All) &lt;&lt; QSPI_ERASE_LEN_LEN_Pos</td></tr>
<tr class="memdesc:a7c7cce97c846577d40f0bdebef5291b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag value denoting intent to erase the entire chip.  <a href="#a7c7cce97c846577d40f0bdebef5291b6">More...</a><br /></td></tr>
<tr class="separator:a7c7cce97c846577d40f0bdebef5291b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Wrapper around the nRF52 QSPI peripheral. </p>
<p>There is only one QSPI peripheral, but it may be associated with multiple flash devices each of which is controlled through an instance of this class. At most one instance may be in use (<a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a4b21260c5c5cb8950f4816d2fff3ddae">claimed</a>) at any time.</p>
<p>The implementation supports deep power-down mode and 24-bit addressing. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a350d996b84a190c4f0c020cbb0c9a3a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a350d996b84a190c4f0c020cbb0c9a3a5">&#9670;&nbsp;</a></span>QSPI()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nrfcxx::periph::QSPI::QSPI </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnrfcxx_1_1periph_1_1QSPI_1_1configuration__type.html">configuration_type</a> &amp;&#160;</td>
          <td class="paramname"><em>configuration</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html" title="Wrapper around the nRF52 QSPI peripheral.">QSPI</a> interface. </p>
<dl class="section warning"><dt>Warning</dt><dd>An attempt to create an instance with an invalid configuration will produce <a class="el" href="namespacenrfcxx.html#a0c34d4f67cc579f14cc37908a6045c7eae7bd7892cac98851ed6047797be5ae34" title="Application tried something that isn&#39;t allowed.">FailsafeCode::API_VIOLATION</a>.</dd>
<dd>
An attempt to create an instance when the QSPI peripheral is associated with another instance will produce <a class="el" href="namespacenrfcxx.html#a0c34d4f67cc579f14cc37908a6045c7eae7bd7892cac98851ed6047797be5ae34" title="Application tried something that isn&#39;t allowed.">FailsafeCode::API_VIOLATION</a>.</dd>
<dd>
The provided configuration must be persistent and unmodified for the lifespan of the instance.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">configuration</td><td>how to talk to the device. A reference to the passed object is retained by the constructed instance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a94aa1059b3216eb8828fd2068c4a2ca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94aa1059b3216eb8828fd2068c4a2ca0">&#9670;&nbsp;</a></span>activate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nrfcxx::periph::QSPI::activate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activate the QSPI peripheral to interact with this device. </p>
<p>Activation ensures the device is not in deep powerdown mode, that the device is configured for <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#ae428992aa7505c244b20cdab21acfe18" title="Bit flag for status register quad-enabled bit.">SR_QE</a> if the peripheral requires quad I/O signals, and that the QSPI <code>STATUS</code> register is current. On the first activation the <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a6ee6e27d5249c0a1bd704e85e9c9509b">JEDEC ID</a> is collected. </p>

</div>
</div>
<a id="a4b21260c5c5cb8950f4816d2fff3ddae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b21260c5c5cb8950f4816d2fff3ddae">&#9670;&nbsp;</a></span>claim()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nrfcxx::periph::QSPI::claim </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempt to claim use of the QSPI peripheral. </p>
<p>This configures the peripheral to support this device, and enables it. It does not <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a94aa1059b3216eb8828fd2068c4a2ca0" title="Activate the QSPI peripheral to interact with this device.">activate</a> it.</p>
<p>There is no power consumption penalty for having QSPI configured and enabled, only for having it <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a94aa1059b3216eb8828fd2068c4a2ca0">activated</a>.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Zero</td><td>on success </td></tr>
    <tr><td class="paramname">-EBUSY</td><td>if another instance owns the peripheral </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a209d7b4269f2c1eeb81fc4f6ced38f23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a209d7b4269f2c1eeb81fc4f6ced38f23">&#9670;&nbsp;</a></span>convert_us_dpmdur()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static constexpr unsigned int nrfcxx::periph::QSPI::convert_us_dpmdur </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>dur_us</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert a duration expressed in microseconds to the units of the DPMDUR register. </p>
<p>DPMDUR expresses durations in multiples of 256 * 62.5 ns, or 16 us. This function rounds up to nearest integral duration that is not less than the provided value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dur_us</td><td>the duration of a deep power-down mode transition, in microseconds.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>that same duration in the representation of <code>DPMDUR</code>. </dd></dl>

</div>
</div>
<a id="a07d7b5e3f57b59b32f796dd827e2480a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07d7b5e3f57b59b32f796dd827e2480a">&#9670;&nbsp;</a></span>deactivate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nrfcxx::periph::QSPI::deactivate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deactivate the QSPI peripheral. </p>
<p>Deactivation includes putting the controlled device in to deep power-down mode (if supported), and deactivating the QSPI peripheral. The peripheral remains enabled until <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a80fb64dd74038ac64de14363973fa2f0" title="Release the QSPI peripheral if held by this instance.">release()</a> is invoked. </p>

</div>
</div>
<a id="a30e1fd5ee4e71922cd8112ec40900ef4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30e1fd5ee4e71922cd8112ec40900ef4">&#9670;&nbsp;</a></span>erase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nrfcxx::periph::QSPI::erase </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a084c571c0982f781eb9c01d496eb66da">offset_type</a>&#160;</td>
          <td class="paramname"><em>addr</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initiate an erase of a single flash storage item. </p>
<dl class="section note"><dt>Note</dt><dd>Erase takes significant amounts of time, possibly measured in seconds. This call returns as soon as the erase has request has been initiated. Use <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a585fcdc88b578b6dce9e7e2407228195" title="Test a status register value for completion of all write activities.">is_write_complete()</a> to detect when the erase completes.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>one of <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a2098bd2c3ea8fad8a9cf3fc9e7b7595b" title="Flag value denoting intent to erase a single 4 KiBy sector.">ERASE_4_KB</a>, <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a02fef2a8428258a483ca008d8f19d851" title="Flag value denoting intent to erase a single 64 KiBy block.">ERASE_64_KB</a>, or <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a7c7cce97c846577d40f0bdebef5291b6" title="Flag value denoting intent to erase the entire chip.">ERASE_CHIP</a>. Other values are rejected.</td></tr>
    <tr><td class="paramname">addr</td><td>an offset within the flash consistent with the value passed to <code>type</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on successful initiation </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>if this instance doesn't own the peripheral, or <code>addr</code> is inconsistent with <code>type</code>. </td></tr>
    <tr><td class="paramname">-EBADF</td><td>if the instance is not activated.. </td></tr>
    <tr><td class="paramname">-EBUSY</td><td>if this instance is actively using the peripheral. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a356d2526cdfc79e75d2ccd4d5d7b639d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a356d2526cdfc79e75d2ccd4d5d7b639d">&#9670;&nbsp;</a></span>is_powerdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nrfcxx::periph::QSPI::is_powerdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the peripheral flag value indicating whether the device is in deep power-down mode. </p>
<dl class="section note"><dt>Note</dt><dd>The state of this flag is not valid unless the device is currently <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a94aa1059b3216eb8828fd2068c4a2ca0">active</a>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a43f74436f1c4fdb1b3c49a5ceaffafdd" title="Determine whether the QSPI peripheral is available for new commands.">is_qspi_available()</a> </dd></dl>

</div>
</div>
<a id="a43f74436f1c4fdb1b3c49a5ceaffafdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43f74436f1c4fdb1b3c49a5ceaffafdd">&#9670;&nbsp;</a></span>is_qspi_available()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nrfcxx::periph::QSPI::is_qspi_available </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine whether the QSPI peripheral is available for new commands. </p>
<p>This checks that the STATUS.READY field is marked READY, and the STATUS.DPM field is marked Disabled. </p>

</div>
</div>
<a id="aa7843fd32187e683856a4b7beb136182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7843fd32187e683856a4b7beb136182">&#9670;&nbsp;</a></span>is_ready()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nrfcxx::periph::QSPI::is_ready </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the isolated peripheral flag value indicating whether the device is ready to receive new tasks or mode transisions. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a43f74436f1c4fdb1b3c49a5ceaffafdd" title="Determine whether the QSPI peripheral is available for new commands.">is_qspi_available()</a> </dd></dl>

</div>
</div>
<a id="a585fcdc88b578b6dce9e7e2407228195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a585fcdc88b578b6dce9e7e2407228195">&#9670;&nbsp;</a></span>is_write_complete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nrfcxx::periph::QSPI::is_write_complete </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sr</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test a status register value for completion of all write activities. </p>
<p>Although <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a333badf5b140b7c8ea384890f5b719ab" title="Write data to the device at a specified address.">write()</a> is (currently) synchronous, <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a30e1fd5ee4e71922cd8112ec40900ef4" title="Initiate an erase of a single flash storage item.">erase()</a> is asynchronous. Use this function to test whether a requested operation has completed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sr</td><td>the status register value to check. If the passed value is negative, <code>false</code> will be returned, allowing defined behavior when passing the unchecked return value of <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a2110fac7833593e7ccf440195f67fcc4" title="Read the current device status register value.">read_sr()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> iff <code>sr</code> is a valid status for which <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#ab2440959d7d9dcaca21fb4fdbe5dc796" title="Bit flag for status register write-in-progress bit.">SR_WIP</a> and <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a32d7309ab172d1ccde2f51c3b8d60735" title="Bit flag for status register write-enable-latch bit.">SR_WEL</a> are cleared. </dd></dl>

</div>
</div>
<a id="a6ee6e27d5249c0a1bd704e85e9c9509b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ee6e27d5249c0a1bd704e85e9c9509b">&#9670;&nbsp;</a></span>jedec_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int nrfcxx::periph::QSPI::jedec_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the JEDEC ID cached on the first activation of the instance. </p>
<p>This is a standard unsigned integer embedding the JEDEC manufacturer ID in bits 16..23, and a manufacturer-specific device id in bits 0..15. </p>

</div>
</div>
<a id="a600a7ab031a5c618151544313e0b7c3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a600a7ab031a5c618151544313e0b7c3d">&#9670;&nbsp;</a></span>latest_sr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t nrfcxx::periph::QSPI::latest_sr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return the most recent cached flash device status register value. </p>
<dl class="section note"><dt>Note</dt><dd>The value may be not be fresh. </dd></dl>

</div>
</div>
<a id="a60ca7a4f68c67fab1687358405d443c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60ca7a4f68c67fab1687358405d443c2">&#9670;&nbsp;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t nrfcxx::periph::QSPI::read </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a084c571c0982f781eb9c01d496eb66da">offset_type</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a188d3a992697fa265cda92a0fe02d65e">size_type</a>&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read data from the device at a specified address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>the offset within the flash device from which data will be read.</td></tr>
    <tr><td class="paramname">dest</td><td>the RAM location into which data will be stored.</td></tr>
    <tr><td class="paramname">count</td><td>the number of bytes to read from the device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">count</td><td>if the read succeeds. </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>if this instance doesn't own the peripheral. </td></tr>
    <tr><td class="paramname">-EBADF</td><td>if the instance is not activated.. </td></tr>
    <tr><td class="paramname">-EBUSY</td><td>if this instance is actively using the peripheral. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2110fac7833593e7ccf440195f67fcc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2110fac7833593e7ccf440195f67fcc4">&#9670;&nbsp;</a></span>read_sr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nrfcxx::periph::QSPI::read_sr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the current device status register value. </p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">non-negative</td><td>the device SR value. </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>if the instance does not have control of the QSPI peripheral. </td></tr>
    <tr><td class="paramname">-EBUSY</td><td>if the instance is not in a state supporting new commands. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a80fb64dd74038ac64de14363973fa2f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80fb64dd74038ac64de14363973fa2f0">&#9670;&nbsp;</a></span>release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int nrfcxx::periph::QSPI::release </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Release the QSPI peripheral if held by this instance. </p>
<p>This <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a07d7b5e3f57b59b32f796dd827e2480a">deactivates</a> and disables the QSPI peripheral, making it available for subsequent <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a4b21260c5c5cb8950f4816d2fff3ddae" title="Attempt to claim use of the QSPI peripheral.">claim()</a> attempts.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">Zero</td><td>on success </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>if this instance doesn't own the peripheral </td></tr>
    <tr><td class="paramname">-EBUSY</td><td>if this instance is actively using the peripheral. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a333badf5b140b7c8ea384890f5b719ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a333badf5b140b7c8ea384890f5b719ab">&#9670;&nbsp;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ssize_t nrfcxx::periph::QSPI::write </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a084c571c0982f781eb9c01d496eb66da">offset_type</a>&#160;</td>
          <td class="paramname"><em>addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a188d3a992697fa265cda92a0fe02d65e">size_type</a>&#160;</td>
          <td class="paramname"><em>count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write data to the device at a specified address. </p>
<dl class="section note"><dt>Note</dt><dd>It is the caller's responsibility to ensure that the flash area that will be written is adequately erased.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>At this time this call is synchronous: it will not return until the write has completed, which may take some significant amount of time (roughly 1.5 ms per KiBy at 32 MHz). The call will not return until the device has completed the write (<a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a585fcdc88b578b6dce9e7e2407228195" title="Test a status register value for completion of all write activities.">is_write_complete()</a> will succeed).</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>the offset within the flash device at which data will be written.</td></tr>
    <tr><td class="paramname">dest</td><td>the RAM location from which data will be transferred.</td></tr>
    <tr><td class="paramname">count</td><td>the number of bytes to write to the device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">count</td><td>if the write succeeds. </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>if this instance doesn't own the peripheral. </td></tr>
    <tr><td class="paramname">-EBADF</td><td>if the instance is not activated.. </td></tr>
    <tr><td class="paramname">-EBUSY</td><td>if this instance is actively using the peripheral. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="a2098bd2c3ea8fad8a9cf3fc9e7b7595b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2098bd2c3ea8fad8a9cf3fc9e7b7595b">&#9670;&nbsp;</a></span>ERASE_4_KB</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr auto nrfcxx::periph::QSPI::ERASE_4_KB = static_cast&lt;uint8_t&gt;(QSPI_ERASE_LEN_LEN_4KB) &lt;&lt; QSPI_ERASE_LEN_LEN_Pos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag value denoting intent to erase a single 4 KiBy sector. </p>
<p>Passed to the <code>type</code> argument of <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a30e1fd5ee4e71922cd8112ec40900ef4" title="Initiate an erase of a single flash storage item.">erase()</a>. The corresponding <code></code> addr argument must be aligned to a 4 KiBy boundary. </p>

</div>
</div>
<a id="a02fef2a8428258a483ca008d8f19d851"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02fef2a8428258a483ca008d8f19d851">&#9670;&nbsp;</a></span>ERASE_64_KB</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr auto nrfcxx::periph::QSPI::ERASE_64_KB = static_cast&lt;uint8_t&gt;(QSPI_ERASE_LEN_LEN_64KB) &lt;&lt; QSPI_ERASE_LEN_LEN_Pos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag value denoting intent to erase a single 64 KiBy block. </p>
<p>Passed to the <code>type</code> argument of <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a30e1fd5ee4e71922cd8112ec40900ef4" title="Initiate an erase of a single flash storage item.">erase()</a>. The corresponding <code></code> addr argument must be aligned to a 64 KiBy boundary. </p>

</div>
</div>
<a id="a7c7cce97c846577d40f0bdebef5291b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c7cce97c846577d40f0bdebef5291b6">&#9670;&nbsp;</a></span>ERASE_CHIP</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr auto nrfcxx::periph::QSPI::ERASE_CHIP = static_cast&lt;uint8_t&gt;(QSPI_ERASE_LEN_LEN_All) &lt;&lt; QSPI_ERASE_LEN_LEN_Pos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag value denoting intent to erase the entire chip. </p>
<p>Passed to the <code>type</code> argument of <a class="el" href="classnrfcxx_1_1periph_1_1QSPI.html#a30e1fd5ee4e71922cd8112ec40900ef4" title="Initiate an erase of a single flash storage item.">erase()</a>. The corresponding <code></code> addr argument must be zero. </p>

</div>
</div>
<a id="a48f0ccf690351e9a643f27eec158680a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48f0ccf690351e9a643f27eec158680a">&#9670;&nbsp;</a></span>SR_SWRD</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint8_t nrfcxx::periph::QSPI::SR_SWRD = 0x80</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Bit flag for status register write protect bit. </p>
<p>Don't set this unless you're sure you'll never want to reconfigure the status register again. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>nrfcxx/<a class="el" href="periph_8hpp_source.html">periph.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.16
</small></address>
</body>
</html>
